<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹ë‹¹ ìƒì„¸ - í‘¸ë””ìŠ¤íŒŸ</title>
    <link rel="stylesheet" href="common.css">
</head>
<body>
    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <button class="btn-ghost back-button" aria-label="ë’¤ë¡œê°€ê¸°">
                    <span style="font-size: 18px;">â†</span>
                </button>
                <h1 class="navbar-title">ì‹ë‹¹ ìƒì„¸</h1>
                <button class="btn-ghost" id="shareBtn" aria-label="ê³µìœ í•˜ê¸°">
                    <span style="font-size: 18px;">â†—</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="container">
        <!-- ì‹ë‹¹ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ -->
        <section class="restaurant-gallery" role="img" aria-label="ì‹ë‹¹ ì´ë¯¸ì§€">
            <div class="gallery-main">
                <img id="mainImage" src="https://picsum.photos/400/300?random=1" alt="ì‹ë‹¹ ëŒ€í‘œ ì´ë¯¸ì§€">
                <div class="gallery-indicators">
                    <span class="indicator active"></span>
                    <span class="indicator"></span>
                    <span class="indicator"></span>
                </div>
            </div>
            <div class="gallery-thumbnails">
                <img src="https://picsum.photos/80/60?random=1" alt="ì¸ë„¤ì¼ 1" class="thumbnail active">
                <img src="https://picsum.photos/80/60?random=2" alt="ì¸ë„¤ì¼ 2" class="thumbnail">
                <img src="https://picsum.photos/80/60?random=3" alt="ì¸ë„¤ì¼ 3" class="thumbnail">
                <span class="thumbnail-more">+2</span>
            </div>
        </section>

        <!-- ì‹ë‹¹ ê¸°ë³¸ ì •ë³´ -->
        <section class="restaurant-info card">
            <div class="restaurant-header">
                <h1 class="heading-1" id="restaurantName">ë§›ìˆëŠ” ê¹€ì¹˜ì°Œê°œ</h1>
                <div class="restaurant-meta">
                    <span class="restaurant-category">í•œì‹</span>
                    <span class="price-range">
                        <span class="price-symbol affordable"></span>
                    </span>
                </div>
            </div>

            <div class="restaurant-details">
                <div class="detail-item">
                    <span class="detail-icon">ğŸ“</span>
                    <span class="detail-text" id="restaurantAddress">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</span>
                    <span class="detail-distance text-gray">120m</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">ğŸ“</span>
                    <a href="tel:02-555-1234" class="detail-text">02-555-1234</a>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">ğŸ•’</span>
                    <span class="detail-text" id="restaurantHours">11:00-21:00</span>
                    <span class="status-open">ì˜ì—…ì¤‘</span>
                </div>
            </div>

            <p class="restaurant-description" id="restaurantDescription">
                ì •í†µ ê¹€ì¹˜ì°Œê°œ ì „ë¬¸ì ìœ¼ë¡œ í‘¸ì§í•œ ì–‘ê³¼ ê¹Šì€ ë§›ì´ ì¼í’ˆì…ë‹ˆë‹¤.
            </p>
        </section>

        <!-- ì‹¤ì‹œê°„ ëŒ€ê¸°ì‹œê°„ -->
        <section class="wait-info card">
            <div class="wait-header">
                <h2 class="heading-3">ì‹¤ì‹œê°„ ëŒ€ê¸°ì‹œê°„</h2>
                <button class="btn-ghost" id="provideWaitTimeBtn">ì •ë³´ ì œê³µ</button>
            </div>
            <div class="wait-display">
                <div class="wait-time no-wait" id="currentWaitTime">
                    ëŒ€ê¸° ì—†ìŒ
                </div>
                <div class="wait-meta">
                    <span class="text-gray body-small">5ë¶„ ì „ ì—…ë°ì´íŠ¸</span>
                </div>
            </div>
        </section>

        <!-- 4ìš”ì†Œ ê°€ì„±ë¹„ ì ìˆ˜ -->
        <section class="value-section card">
            <div class="value-header">
                <h2 class="heading-3">ê°€ì„±ë¹„ ë¶„ì„</h2>
                <div class="value-score excellent" id="overallScore">4.5</div>
            </div>

            <div class="factor-chart">
                <div class="factor-item">
                    <div class="factor-icon price">ğŸ’°</div>
                    <div class="factor-score" id="priceScore">4.5</div>
                    <div class="factor-label">ê°€ê²©</div>
                </div>
                <div class="factor-item">
                    <div class="factor-icon portion">ğŸ½ï¸</div>
                    <div class="factor-score" id="portionScore">4.2</div>
                    <div class="factor-label">ì–‘</div>
                </div>
                <div class="factor-item">
                    <div class="factor-icon taste">ğŸ˜‹</div>
                    <div class="factor-score" id="tasteScore">4.3</div>
                    <div class="factor-label">ë§›</div>
                </div>
                <div class="factor-item">
                    <div class="factor-icon service">ğŸ™‹</div>
                    <div class="factor-score" id="serviceScore">4.1</div>
                    <div class="factor-label">ì„œë¹„ìŠ¤</div>
                </div>
            </div>
        </section>

        <!-- ë¦¬ë·° ë° í‰ì  -->
        <section class="review-section card">
            <div class="review-header">
                <h2 class="heading-3">ë¦¬ë·° ë° í‰ì </h2>
                <button class="btn-ghost" id="allReviewsBtn">ì „ì²´ë³´ê¸°</button>
            </div>

            <div class="rating-summary">
                <div class="rating-display">
                    <span class="rating-large">4.2</span>
                    <div class="rating">
                        <span class="rating-star filled">â˜…</span>
                        <span class="rating-star filled">â˜…</span>
                        <span class="rating-star filled">â˜…</span>
                        <span class="rating-star filled">â˜…</span>
                        <span class="rating-star">â˜…</span>
                    </div>
                    <span class="rating-count">(156ê°œ ë¦¬ë·°)</span>
                </div>
            </div>

            <div class="recent-reviews" id="recentReviews">
                <div class="review-item">
                    <div class="review-user">
                        <span class="user-name">ê¹€**</span>
                        <div class="rating">
                            <span class="rating-star filled">â˜…â˜…â˜…â˜…â˜…</span>
                        </div>
                        <span class="review-date">2ì¼ ì „</span>
                    </div>
                    <p class="review-text">ê¹€ì¹˜ì°Œê°œê°€ ì •ë§ ë§›ìˆì–´ìš”. ì–‘ë„ í‘¸ì§í•˜ê³  ê°€ê²©ë„ ì°©í•´ì„œ ìì£¼ ì˜¬ ê²ƒ ê°™ì•„ìš”.</p>
                </div>

                <div class="review-item">
                    <div class="review-user">
                        <span class="user-name">ì´**</span>
                        <div class="rating">
                            <span class="rating-star filled">â˜…â˜…â˜…â˜…â˜†</span>
                        </div>
                        <span class="review-date">1ì£¼ ì „</span>
                    </div>
                    <p class="review-text">ë§›ì€ ì¢‹ì€ë° ì¡°ê¸ˆ ì§œìš”. ê·¸ë˜ë„ ì „ì²´ì ìœ¼ë¡œ ë§Œì¡±í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </section>

        <!-- ë©”ë‰´ ë¯¸ë¦¬ë³´ê¸° -->
        <section class="menu-preview card">
            <div class="menu-header">
                <h2 class="heading-3">ë©”ë‰´ ë¯¸ë¦¬ë³´ê¸°</h2>
                <button class="btn-ghost" id="fullMenuBtn">ì „ì²´ë©”ë‰´</button>
            </div>

            <div class="menu-list" id="previewMenus">
                <div class="menu-item">
                    <img src="https://picsum.photos/80/60?random=11" alt="ê¹€ì¹˜ì°Œê°œ" class="menu-image">
                    <div class="menu-info">
                        <h3 class="menu-name">ê¹€ì¹˜ì°Œê°œ</h3>
                        <p class="menu-description">ë¼ì§€ê³ ê¸°ì™€ ê¹€ì¹˜ê°€ ë“¬ë¿</p>
                        <span class="menu-price">8,000ì›</span>
                    </div>
                </div>

                <div class="menu-item">
                    <img src="https://picsum.photos/80/60?random=12" alt="ëœì¥ì°Œê°œ" class="menu-image">
                    <div class="menu-info">
                        <h3 class="menu-name">ëœì¥ì°Œê°œ</h3>
                        <p class="menu-description">êµ¬ìˆ˜í•œ ëœì¥êµ­ë¬¼</p>
                        <span class="menu-price">7,000ì›</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- ì•¡ì…˜ ë²„íŠ¼ -->
    <div class="action-bar">
        <button class="btn-secondary" id="favoriteBtn">
            <span>â™¡</span> ì¦ê²¨ì°¾ê¸°
        </button>
        <button class="btn-primary" id="orderBtn">
            ì£¼ë¬¸í•˜ê¸°
        </button>
    </div>

    <!-- ëŒ€ê¸°ì‹œê°„ ì •ë³´ ì œê³µ ëª¨ë‹¬ -->
    <div id="waitTimeModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="heading-3">ëŒ€ê¸°ì‹œê°„ ì •ë³´ ì œê³µ</h3>
                <button class="modal-close" aria-label="ë‹«ê¸°">Ã—</button>
            </div>
            <div class="modal-body">
                <p class="body-medium mb-4">í˜„ì¬ ëŒ€ê¸°ì‹œê°„ì„ ì•Œë ¤ì£¼ì‹œë©´ ë‹¤ë¥¸ ì´ìš©ìë“¤ì—ê²Œ ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>
                <div class="wait-time-options">
                    <button class="wait-option" data-time="0">ëŒ€ê¸° ì—†ìŒ</button>
                    <button class="wait-option" data-time="5">5ë¶„ ì´í•˜</button>
                    <button class="wait-option" data-time="10">10ë¶„ ì •ë„</button>
                    <button class="wait-option" data-time="15">15ë¶„ ì´ìƒ</button>
                </div>
            </div>
        </div>
    </div>

    <script src="common.js"></script>
    <script>
        // í˜ì´ì§€ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            initRestaurantDetail();
        });

        function initRestaurantDetail() {
            // ì„¸ì…˜ì—ì„œ ì„ íƒëœ ì‹ë‹¹ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
            const restaurantId = Utils.session.get('selectedRestaurantId') || 'r1';
            loadRestaurantData(restaurantId);

            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
            setupEventListeners();
        }

        async function loadRestaurantData(restaurantId) {
            try {
                // ë¡œë”© ìƒíƒœ í‘œì‹œ
                showLoadingState();

                // ì‹ë‹¹ ë°ì´í„° ë¡œë“œ
                const restaurant = await DataService.getRestaurant(restaurantId);
                const menus = await DataService.getRestaurantMenus(restaurantId);

                // UI ì—…ë°ì´íŠ¸
                updateRestaurantInfo(restaurant);
                updateMenuPreview(menus);

                // ì„ íƒëœ ì‹ë‹¹ ì •ë³´ë¥¼ ì„¸ì…˜ì— ì €ì¥
                Utils.session.set('selectedRestaurant', restaurant);

            } catch (error) {
                console.error('Failed to load restaurant data:', error);
                Utils.showToast('ì‹ë‹¹ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }

        function updateRestaurantInfo(restaurant) {
            // ê¸°ë³¸ ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('restaurantName').textContent = restaurant.name;
            document.getElementById('restaurantAddress').textContent = restaurant.address;
            document.getElementById('restaurantHours').textContent = restaurant.hours;
            document.getElementById('restaurantDescription').textContent = restaurant.description;

            // ê°€ì„±ë¹„ ì ìˆ˜ ì—…ë°ì´íŠ¸
            document.getElementById('overallScore').textContent = restaurant.valueScore;
            document.getElementById('overallScore').className = `value-score ${Utils.getValueScoreClass(restaurant.valueScore)}`;

            // 4ìš”ì†Œ ì ìˆ˜ ì—…ë°ì´íŠ¸
            document.getElementById('priceScore').textContent = restaurant.factors.price;
            document.getElementById('portionScore').textContent = restaurant.factors.portion;
            document.getElementById('tasteScore').textContent = restaurant.factors.taste;
            document.getElementById('serviceScore').textContent = restaurant.factors.service;

            // ëŒ€ê¸°ì‹œê°„ ì—…ë°ì´íŠ¸
            const waitTimeEl = document.getElementById('currentWaitTime');
            waitTimeEl.textContent = restaurant.waitTime === 0 ? 'ëŒ€ê¸° ì—†ìŒ' : `${restaurant.waitTime}ë¶„`;
            waitTimeEl.className = `wait-time ${Utils.getWaitTimeClass(restaurant.waitTime)}`;

            // ë³„ì  ì—…ë°ì´íŠ¸
            updateRating(restaurant.rating, restaurant.reviewCount);
        }

        function updateRating(rating, reviewCount) {
            const stars = document.querySelector('.rating');
            stars.innerHTML = '';

            for (let i = 1; i <= 5; i++) {
                const star = document.createElement('span');
                star.className = `rating-star ${i <= rating ? 'filled' : ''}`;
                star.textContent = 'â˜…';
                stars.appendChild(star);
            }

            document.querySelector('.rating-large').textContent = rating.toFixed(1);
            document.querySelector('.rating-count').textContent = `(${reviewCount}ê°œ ë¦¬ë·°)`;
        }

        function updateMenuPreview(menus) {
            const previewContainer = document.getElementById('previewMenus');
            previewContainer.innerHTML = '';

            // ì²˜ìŒ 2ê°œ ë©”ë‰´ë§Œ ë¯¸ë¦¬ë³´ê¸°ë¡œ í‘œì‹œ
            const previewMenus = menus.slice(0, 2);

            previewMenus.forEach(menu => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item';
                menuItem.innerHTML = `
                    <img src="${menu.image}" alt="${menu.name}" class="menu-image">
                    <div class="menu-info">
                        <h3 class="menu-name">${menu.name}</h3>
                        <p class="menu-description">${menu.description}</p>
                        <span class="menu-price">${Utils.formatPrice(menu.price)}</span>
                    </div>
                `;
                previewContainer.appendChild(menuItem);
            });
        }

        function setupEventListeners() {
            // ì£¼ë¬¸í•˜ê¸° ë²„íŠ¼
            document.getElementById('orderBtn').addEventListener('click', function() {
                const restaurant = Utils.session.get('selectedRestaurant');
                if (restaurant) {
                    Utils.navigateTo('04-ë©”ë‰´ì„ íƒ');
                }
            });

            // ì¦ê²¨ì°¾ê¸° ë²„íŠ¼
            document.getElementById('favoriteBtn').addEventListener('click', function() {
                toggleFavorite();
            });

            // ê³µìœ í•˜ê¸° ë²„íŠ¼
            document.getElementById('shareBtn').addEventListener('click', function() {
                shareRestaurant();
            });

            // ëŒ€ê¸°ì‹œê°„ ì •ë³´ ì œê³µ
            document.getElementById('provideWaitTimeBtn').addEventListener('click', function() {
                showWaitTimeModal();
            });

            // ì „ì²´ ë©”ë‰´ ë³´ê¸°
            document.getElementById('fullMenuBtn').addEventListener('click', function() {
                Utils.navigateTo('04-ë©”ë‰´ì„ íƒ');
            });

            // ì „ì²´ ë¦¬ë·° ë³´ê¸°
            document.getElementById('allReviewsBtn').addEventListener('click', function() {
                Utils.showToast('ë¦¬ë·° ìƒì„¸ í˜ì´ì§€ëŠ” ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.', 'info');
            });

            // ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬
            setupImageGallery();

            // ëª¨ë‹¬ ì„¤ì •
            setupWaitTimeModal();
        }

        function setupImageGallery() {
            const thumbnails = document.querySelectorAll('.thumbnail');
            const mainImage = document.getElementById('mainImage');
            const indicators = document.querySelectorAll('.indicator');

            thumbnails.forEach((thumbnail, index) => {
                thumbnail.addEventListener('click', function() {
                    // ì¸ë„¤ì¼ í™œì„±í™”
                    thumbnails.forEach(t => t.classList.remove('active'));
                    thumbnail.classList.add('active');

                    // ì¸ë””ì¼€ì´í„° í™œì„±í™”
                    indicators.forEach(i => i.classList.remove('active'));
                    indicators[index]?.classList.add('active');

                    // ë©”ì¸ ì´ë¯¸ì§€ ë³€ê²½
                    mainImage.src = thumbnail.src.replace('/80/60', '/400/300');
                });
            });
        }

        function setupWaitTimeModal() {
            const modal = document.getElementById('waitTimeModal');
            const closeBtn = modal.querySelector('.modal-close');
            const waitOptions = modal.querySelectorAll('.wait-option');

            closeBtn.addEventListener('click', function() {
                hideWaitTimeModal();
            });

            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    hideWaitTimeModal();
                }
            });

            waitOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const waitTime = parseInt(this.dataset.time);
                    submitWaitTime(waitTime);
                    hideWaitTimeModal();
                });
            });
        }

        function showWaitTimeModal() {
            document.getElementById('waitTimeModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function hideWaitTimeModal() {
            document.getElementById('waitTimeModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function submitWaitTime(waitTime) {
            // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì „ì†¡
            const waitTimeEl = document.getElementById('currentWaitTime');
            waitTimeEl.textContent = waitTime === 0 ? 'ëŒ€ê¸° ì—†ìŒ' : `${waitTime}ë¶„`;
            waitTimeEl.className = `wait-time ${Utils.getWaitTimeClass(waitTime)}`;

            Utils.showToast('ëŒ€ê¸°ì‹œê°„ ì •ë³´ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!', 'success');
        }

        function toggleFavorite() {
            const btn = document.getElementById('favoriteBtn');
            const isActive = btn.classList.contains('active');

            if (isActive) {
                btn.classList.remove('active');
                btn.innerHTML = '<span>â™¡</span> ì¦ê²¨ì°¾ê¸°';
                Utils.showToast('ì¦ê²¨ì°¾ê¸°ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            } else {
                btn.classList.add('active');
                btn.innerHTML = '<span>â™¥</span> ì¦ê²¨ì°¾ê¸°';
                Utils.showToast('ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }
        }

        function shareRestaurant() {
            if (navigator.share) {
                const restaurant = Utils.session.get('selectedRestaurant');
                navigator.share({
                    title: restaurant.name,
                    text: `${restaurant.name} - ê°€ì„±ë¹„ ${restaurant.valueScore}ì ì˜ ë§›ì§‘ì„ ì°¾ì•˜ì–´ìš”!`,
                    url: window.location.href
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                Utils.showToast('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }
        }

        function showLoadingState() {
            // ìŠ¤ì¼ˆë ˆí†¤ UI êµ¬í˜„
            const skeletonElements = document.querySelectorAll('.restaurant-info, .value-section, .review-section');
            skeletonElements.forEach(el => {
                el.style.opacity = '0.5';
            });
        }
    </script>

    <style>
        /* ì‹ë‹¹ ìƒì„¸ í˜ì´ì§€ ì „ìš© ìŠ¤íƒ€ì¼ */
        .restaurant-gallery {
            margin-bottom: var(--space-4);
        }

        .gallery-main {
            position: relative;
            width: 100%;
            height: 200px;
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin-bottom: var(--space-3);
        }

        .gallery-main img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-indicators {
            position: absolute;
            bottom: var(--space-3);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: var(--space-1);
        }

        .indicator {
            width: 8px;
            height: 8px;
            border-radius: var(--radius-full);
            background: rgba(255, 255, 255, 0.5);
            transition: background 0.2s ease;
        }

        .indicator.active {
            background: var(--white);
        }

        .gallery-thumbnails {
            display: flex;
            gap: var(--space-2);
            overflow-x: auto;
            padding-bottom: var(--space-2);
        }

        .thumbnail {
            width: 60px;
            height: 45px;
            border-radius: var(--radius-sm);
            object-fit: cover;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s ease;
            flex-shrink: 0;
        }

        .thumbnail.active {
            opacity: 1;
            border: 2px solid var(--primary-blue);
        }

        .thumbnail-more {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 45px;
            background: var(--gray-100);
            border-radius: var(--radius-sm);
            font-size: 12px;
            color: var(--gray-500);
            cursor: pointer;
            flex-shrink: 0;
        }

        .restaurant-header {
            margin-bottom: var(--space-4);
        }

        .restaurant-meta {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-top: var(--space-2);
        }

        .restaurant-category {
            padding: var(--space-1) var(--space-3);
            background: var(--primary-blue-light);
            color: var(--primary-blue);
            border-radius: var(--radius-xl);
            font-size: 12px;
            font-weight: 500;
        }

        .restaurant-details {
            margin-bottom: var(--space-4);
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-2);
        }

        .detail-icon {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        .detail-text {
            flex: 1;
            color: var(--gray-700);
            text-decoration: none;
        }

        .detail-distance {
            font-size: 12px;
        }

        .status-open {
            padding: var(--space-1) var(--space-2);
            background: var(--success-green);
            color: var(--white);
            border-radius: var(--radius-sm);
            font-size: 10px;
            font-weight: 600;
        }

        .wait-info {
            background: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%);
            border: 1px solid #BAE6FD;
        }

        .wait-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
        }

        .wait-display {
            text-align: center;
        }

        .wait-meta {
            margin-top: var(--space-1);
        }

        .value-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .rating-large {
            font-size: 32px;
            font-weight: 700;
            color: var(--gray-900);
            margin-right: var(--space-3);
        }

        .rating-summary {
            margin-bottom: var(--space-4);
        }

        .rating-display {
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .review-item {
            padding: var(--space-3);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-3);
        }

        .review-user {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-2);
        }

        .user-name {
            font-weight: 500;
            color: var(--gray-700);
        }

        .review-date {
            color: var(--gray-500);
            font-size: 12px;
            margin-left: auto;
        }

        .review-text {
            color: var(--gray-600);
            line-height: 1.5;
        }

        .menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .menu-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .menu-item {
            display: flex;
            gap: var(--space-3);
            padding: var(--space-3);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            transition: all 0.2s ease;
        }

        .menu-item:hover {
            border-color: var(--primary-blue);
            box-shadow: var(--shadow-sm);
        }

        .menu-image {
            width: 60px;
            height: 45px;
            border-radius: var(--radius-sm);
            object-fit: cover;
            flex-shrink: 0;
        }

        .menu-info {
            flex: 1;
        }

        .menu-name {
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: var(--space-1);
        }

        .menu-description {
            color: var(--gray-600);
            font-size: 12px;
            margin-bottom: var(--space-1);
        }

        .menu-price {
            color: var(--primary-blue);
            font-weight: 600;
        }

        .action-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: var(--space-4);
            background: var(--white);
            border-top: 1px solid var(--gray-200);
            display: flex;
            gap: var(--space-3);
            z-index: 1000;
        }

        .action-bar .btn-secondary {
            flex: 1;
        }

        .action-bar .btn-primary {
            flex: 2;
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: var(--space-4);
        }

        .modal-content {
            background: var(--white);
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-5);
            border-bottom: 1px solid var(--gray-200);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--gray-500);
            cursor: pointer;
            padding: var(--space-1);
        }

        .modal-body {
            padding: var(--space-5);
        }

        .wait-time-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-3);
        }

        .wait-option {
            padding: var(--space-4);
            background: var(--gray-50);
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-lg);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .wait-option:hover {
            background: var(--primary-blue-light);
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        /* ì¦ê²¨ì°¾ê¸° í™œì„± ìƒíƒœ */
        .btn-secondary.active {
            background: var(--error-red);
            color: var(--white);
            border-color: var(--error-red);
        }

        /* í•˜ë‹¨ ì—¬ë°± ì¶”ê°€ (ê³ ì • ì•¡ì…˜ë°” ë•Œë¬¸ì—) */
        main {
            padding-bottom: 100px;
        }
    </style>
</body>
</html>